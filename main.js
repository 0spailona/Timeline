(()=>{"use strict";var n={208:(n,e,t)=>{t.d(e,{A:()=>p});var r=t(601),o=t.n(r),i=t(314),a=t.n(i),s=t(417),u=t.n(s),c=new URL(t(299),t.b),d=new URL(t(109),t.b),l=a()(o()),f=u()(c),m=u()(d);l.push([n.id,`body {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  padding: 0;\n  background-color: #edefec;\n}\n\n#root {\n  display: flex;\n  flex-direction: column;\n  justify-content: end;\n  width: 95%;\n  min-height: 500px;\n  margin: 30px auto;\n  padding: 2%;\n  border: 2px solid dimgrey;\n  background-image: url(${f});\n  background-size: cover;\n  font-family: 'Roboto', sans-serif;\n}\n\n.msgContainerWRP {\n  display: none;\n  flex: 1;\n  overflow: auto;\n}\n\n.messageContainer {\n  display: flex;\n  flex-direction: column;\n  flex:1;\n  gap: 20px;\n  padding-bottom: 40px;\n  overflow: auto;\n}\n\n.sendMsgForm {\n  display: none;\n  align-items: center;\n  gap: 10px;\n  height: 12%;\n  padding: 10px;\n  border: 2px solid dimgray;\n  background-color: white;\n}\n\n.inputMessage {\n  flex: 1;\n  overflow: auto;\n  border: none;\n  font-size: 16px;\n  resize: none;\n}\n\n.inputMessage:focus {\n  outline: none;\n}\n\n.btnCircle {\n  width: 50px;\n  height: 50px;\n  border: 2px solid dimgray;\n  border-radius: 25px;\n  background-color: white;\n  cursor: pointer;\n}\n\n.btn {\n  background: white;\n  font-size: 30px;\n  color: dimgrey;\n  padding: 10px 15px;\n  text-align: center;\n  border-radius: 10px;\n  cursor: pointer;\n}\n\n.sendMessage {\n  background-image: url(${m});\n  background-position: center;\n  background-size: contain;\n}\n\n.msgWRP {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  border: 2px solid dimgray;\n  border-radius: 20px;\n  background-color: white;\n}\n\n.dateAndTime {\n  text-align: end;\n  padding-bottom: 10px;\n}\n\n.info {\n  font-size: 14px;\n}\n\n.msgContain {\n  font-size: 18px;\n  padding-bottom: 20px;\n}\n\n.absoluteContainer {\n  display: none;\n  position: absolute;\n  margin-top: 25%;\n  width: inherit;\n\n}\n\n.absolutWRP{\n  margin: auto;\n  display: flex;\n  gap: 10px;\n  flex-direction: column;\n  justify-content: center;\n  width: 50%;\n  padding: 20px;\n  border: 2px solid black;\n  background-color: white;\n  border-radius: 10px;\n}\n\n.modalTitle {\n  font-size: 22px;\n  text-align: center;\n}\n\n.inputWRP {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.label {\n  font-size: 18px;\n  margin-bottom: 20px;\n}\n\n.input {\n  padding: 10px;\n  font-size: 16px;\n}\n\n.modalButtons {\n  display: flex;\n  justify-content: end;\n  gap: 10px;\n}\n`,""]);const p=l},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,o,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},417:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var i={},a=[],s=0;s<n.length;s++){var u=n[s],c=r.base?u[0]+r.base:u[0],d=i[c]||0,l="".concat(c," ").concat(d);i[c]=d+1;var f=t(l),m={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)e[f].references++,e[f].updater(m);else{var p=o(m,r);r.byIndex=s,e.splice(s,0,{identifier:l,updater:p,references:1})}a.push(l)}return a}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var i=r(n=n||[],o=o||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var s=t(i[a]);e[s].references--}for(var u=r(n,o),c=0;c<i.length;c++){var d=t(i[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=u}}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},299:(n,e,t)=>{n.exports=t.p+"6fbd064e77db4c631778.png"},109:(n,e,t)=>{n.exports=t.p+"848e8351876b7fb7e675.png"}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return n[r](i,i.exports,t),i.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var r=e.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!n||!/^http(s?):/.test(n));)n=r[o--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{var n=t(72),e=t.n(n),r=t(825),o=t.n(r),i=t(659),a=t.n(i),s=t(56),u=t.n(s),c=t(540),d=t.n(c),l=t(113),f=t.n(l),m=t(208),p={};function y(n){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},y(n)}function g(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,h(r.key),r)}}function h(n){var e=function(n,e){if("object"!=y(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==y(e)?e:String(e)}p.styleTagTransform=f(),p.setAttributes=u(),p.insert=a().bind(null,"head"),p.domAPI=o(),p.insertStyleElement=d(),e()(m.A,p),m.A&&m.A.locals&&m.A.locals;var v=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.container=e}var e,t;return e=n,(t=[{key:"drawMessage",value:function(n){var e=n.msg,t=n.created,r=n.coords,o=document.createElement("div");o.classList.add("msgWRP");var i=document.createElement("span");i.classList.add("dateAndTime","info"),i.textContent=t,o.appendChild(i);var a=document.createElement("span");a.classList.add("msgContain"),a.textContent=e,o.appendChild(a);var s=document.createElement("span");s.classList.add("coords","info"),s.textContent=r,o.appendChild(s),this.container.appendChild(o)}}])&&g(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),n}(),b=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,x=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,M=/[^-+\dA-Z]/g;var w={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},T={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},D=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(n).padStart(e,"0")},S=function(n){var e=n.y,t=n.m,r=n.d,o=n._,i=n.dayName,a=n.short,s=void 0!==a&&a,u=new Date,c=new Date;c.setDate(c[o+"Date"]()-1);var d=new Date;return d.setDate(d[o+"Date"]()+1),u[o+"FullYear"]()===e&&u[o+"Month"]()===t&&u[o+"Date"]()===r?s?"Tdy":"Today":c[o+"FullYear"]()===e&&c[o+"Month"]()===t&&c[o+"Date"]()===r?s?"Ysd":"Yesterday":d[o+"FullYear"]()===e&&d[o+"Month"]()===t&&d[o+"Date"]()===r?s?"Tmw":"Tomorrow":i},C=function(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var t=new Date(e.getFullYear(),0,4);t.setDate(t.getDate()-(t.getDay()+6)%7+3);var r=e.getTimezoneOffset()-t.getTimezoneOffset();e.setHours(e.getHours()-r);var o=(e-t)/6048e5;return 1+Math.floor(o)},N=function(n){var e=n.getDay();return 0===e&&(e=7),e},k=function(n){return(String(n).match(x)||[""]).pop().replace(M,"").replace(/GMT\+0000/g,"UTC")};function F(n){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},F(n)}function A(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,P(r.key),r)}}function P(n){var e=function(n,e){if("object"!=F(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==F(e)?e:String(e)}new(function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.container=e}var e,t;return e=n,(t=[{key:"init",value:function(){this.container?(this.bindToDOM(),this.getCoords()):console.log("DOM Error")}},{key:"bindToDOM",value:function(){document.querySelector(".msgContainerWRP").style.display="inline-flex";var n=document.querySelector(".sendMsgForm");n.style.display="inline-flex",n.addEventListener("submit",this.sendMsg.bind(this))}},{key:"sendMsg",value:function(n){n.preventDefault();var e=Object.fromEntries(new FormData(n.target)),t=(new Date).toISOString();e.created=function(n,e,t,r){if(1!==arguments.length||"string"!=typeof n||/\d/.test(n)||(e=n,n=void 0),(n=n||0===n?n:new Date)instanceof Date||(n=new Date(n)),isNaN(n))throw TypeError("Invalid date");var o=(e=String(w[e]||e||w.default)).slice(0,4);"UTC:"!==o&&"GMT:"!==o||(e=e.slice(4),t=!0,"GMT:"===o&&(r=!0));var i=function(){return t?"getUTC":"get"},a=function(){return n[i()+"Date"]()},s=function(){return n[i()+"Day"]()},u=function(){return n[i()+"Month"]()},c=function(){return n[i()+"FullYear"]()},d=function(){return n[i()+"Hours"]()},l=function(){return n[i()+"Minutes"]()},f=function(){return n[i()+"Seconds"]()},m=function(){return n[i()+"Milliseconds"]()},p=function(){return t?0:n.getTimezoneOffset()},y=function(){return C(n)},g={d:function(){return a()},dd:function(){return D(a())},ddd:function(){return T.dayNames[s()]},DDD:function(){return S({y:c(),m:u(),d:a(),_:i(),dayName:T.dayNames[s()],short:!0})},dddd:function(){return T.dayNames[s()+7]},DDDD:function(){return S({y:c(),m:u(),d:a(),_:i(),dayName:T.dayNames[s()+7]})},m:function(){return u()+1},mm:function(){return D(u()+1)},mmm:function(){return T.monthNames[u()]},mmmm:function(){return T.monthNames[u()+12]},yy:function(){return String(c()).slice(2)},yyyy:function(){return D(c(),4)},h:function(){return d()%12||12},hh:function(){return D(d()%12||12)},H:function(){return d()},HH:function(){return D(d())},M:function(){return l()},MM:function(){return D(l())},s:function(){return f()},ss:function(){return D(f())},l:function(){return D(m(),3)},L:function(){return D(Math.floor(m()/10))},t:function(){return d()<12?T.timeNames[0]:T.timeNames[1]},tt:function(){return d()<12?T.timeNames[2]:T.timeNames[3]},T:function(){return d()<12?T.timeNames[4]:T.timeNames[5]},TT:function(){return d()<12?T.timeNames[6]:T.timeNames[7]},Z:function(){return r?"GMT":t?"UTC":k(n)},o:function(){return(p()>0?"-":"+")+D(100*Math.floor(Math.abs(p())/60)+Math.abs(p())%60,4)},p:function(){return(p()>0?"-":"+")+D(Math.floor(Math.abs(p())/60),2)+":"+D(Math.floor(Math.abs(p())%60),2)},S:function(){return["th","st","nd","rd"][a()%10>3?0:(a()%100-a()%10!=10)*a()%10]},W:function(){return y()},WW:function(){return D(y())},N:function(){return N(n)}};return e.replace(b,(function(n){return n in g?g[n]():n.slice(1,n.length-1)}))}(t,"dd.mm.yy  HH:MM"),e.coords=this.coordsView,new v(document.querySelector(".messageContainer")).drawMessage(e),n.target.reset()}},{key:"getCoords",value:function(){var n=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){n.coords={latitude:e.coords.latitude,longitude:e.coords.longitude},n.coordsView="[".concat(e.coords.latitude,", ").concat(e.coords.longitude,"]")}),(function(e){console.log(e),n.showInputCoordsForm()}))}},{key:"showInputCoordsForm",value:function(){this.container.querySelector(".absoluteContainer").style.display="block";var n=this.container.querySelector(".addGeolocationForm"),e=n.querySelector(".coordsInput");e.onchange=function(){var n=function(n){(n=n.trim()).startsWith("[")&&(n=n.slice(1,n.length)),n.endsWith("]")&&(n=n.slice(0,n.length-1)),console.log("data",n);for(var e,t,r=0,o=0,i=0;i<n.length;i++)if(console.log("i",n[i]),","!==n[i])if(" "!==n[i]){if("."!==n[i]&&"-"!==n[i]&&isNaN(parseInt(n[i])))return{validate:!1,msg:"Impossible symbols"}}else{if(","!==n[i-1])return{validate:!1,msg:"Check commas and spaces"};t=i,o++}else if(r++,console.log("commas in for",r),e=i,r>1)return{validate:!1,msg:"Check commas"};if(console.log("commas",r),0===r)return{validate:!1,msg:"Check commas"};var a=n.slice(0,e),s=0===o?n.slice(e+1,n.length):n.slice(t+1,n.length);return Math.abs(parseFloat(a))<=180&&Math.abs(parseFloat(s))<=180?{validate:!0,msg:void 0}:{validate:!1,msg:"Impossible coordinates"}}(e.value),t=n.validate,r=n.msg;console.log("validate",{validate:t,msg:r}),t||e.setCustomValidity(r)},n.addEventListener("submit",this.getCoordsFromForm.bind(this))}},{key:"getCoordsFromForm",value:function(n){n.preventDefault();var e=new FormData(n.target),t=Object.fromEntries(e);this.coords=t,this.coordsView=this.getCoordsView(t.coords),n.target.reset(),this.container.querySelector(".absoluteContainer").style.display="none"}},{key:"getCoordsView",value:function(n){n.trim(),n.startsWith("[")&&(n=n.slice(1,n.length)),n.endsWith("]")&&(n=n.slice(0,n.length-1));var e=n.indexOf(",");return" "!==n[e+1]&&(n=n.replace(",",", ")),"[".concat(n,"]")}}])&&A(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),n}())(document.querySelector("#root")).init()})()})();